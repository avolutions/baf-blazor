@using Avolutions.Baf.Blazor.Theme.Settings
@inject ISettings<ThemeSettings> ThemeSettings

<MudThemeProvider Theme="@_theme"/>
<MudPopoverProvider />
<MudDialogProvider />
<MudSnackbarProvider />
<NavigationLock />

<MudLayout>
    @ChildContent
</MudLayout>

@code {
    [Parameter] public RenderFragment? ChildContent { get; set; }
    private MudTheme _theme = new();
    
    protected override void OnInitialized()
    {
        _theme = Theme.Create(ThemeSettings.Value);
    }
}